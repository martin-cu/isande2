<div class="container-fluid">
    <div class="d-sm-flex justify-content-between align-items-center mb-4">
        <h3 class="text-dark mb-0">Sales Dashboard</h3>
    </div>
    <div class="row">
        <div class="col-md-6 col-xl-3 mb-4">
            <div class="card shadow border-left-primary py-2">
                <div class="card-body">
                    <div class="row align-items-center no-gutters">
                        <div class="col mr-2">
                            <div class="text-uppercase text-primary font-weight-bold text-xs mb-1"><span>Earnings (monthly)</span></div>
                            <div class="text-dark font-weight-bold h5 mb-0"><span>Php {{netMonth}}</span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-calendar fa-2x text-gray-300"></i></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3 mb-4">
            <div class="card shadow border-left-success py-2">
                <div class="card-body">
                    <div class="row align-items-center no-gutters">
                        <div class="col mr-2">
                            <div class="text-uppercase text-success font-weight-bold text-xs mb-1"><span>Earnings (annual)</span></div>
                            <div class="text-dark font-weight-bold h5 mb-0"><span>Php {{netYear}}</span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-dollar-sign fa-2x text-gray-300"></i></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3 mb-4">
            <div class="card shadow border-left-info py-2">
                <div class="card-body">
                    <div class="row align-items-center no-gutters">
                        <div class="col mr-2">
                            <div class="text-uppercase text-info font-weight-bold text-xs mb-1"><span>Tasks</span></div>
                            <div class="row no-gutters align-items-center">
                                <div class="col-auto">
                                    <div class="text-dark font-weight-bold h5 mb-0 mr-3"><span>{{taskProgress}}</span></div>
                                </div>
                                <div class="col">
                                    <div class="progress progress-sm">
                                        <div class="progress-bar bg-info" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: {{taskProgress}}"><span class="sr-only">{{taskProgress}}</span></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto"><i class="fas fa-clipboard-list fa-2x text-gray-300"></i></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-3 mb-4">
            <div class="card shadow border-left-warning py-2">
                <div class="card-body">
                    <div class="row align-items-center no-gutters">
                        <div class="col mr-2">
                            <div class="text-uppercase text-warning font-weight-bold text-xs mb-1"><span>Pending Requests</span></div>
                            <div class="text-dark font-weight-bold h5 mb-0"><span>{{pendingTasks}}</span></div>
                        </div>
                        <div class="col-auto"><i class="fas fa-comments fa-2x text-gray-300"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-7 col-xl-8">
            <div class="card shadow mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="text-primary font-weight-bold m-0">Overview Sales</h6>
                    <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                        <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
                            <p class="text-center dropdown-header">dropdown header:</p><a class="dropdown-item" href="#">&nbsp;Action</a><a class="dropdown-item" href="#">&nbsp;Another action</a>
                            <div class="dropdown-divider"></div><a class="dropdown-item" href="#">&nbsp;Something else here</a>
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    <div class="chart-area"><canvas id="overviewSales" style="max-height: 100%; max-width: 100%;"></canvas></div>
                </div>

            </div>
        </div>
        <div class="col-lg-5 col-xl-4">
            <div class="card shadow mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="text-primary font-weight-bold m-0">Recent Sales</h6>
                </div>
                <div class="card-body" style="padding: 10px;">
                    <div class="text-center small mt-4" style="margin: 0px;margin-top: 0px;"><span class="mr-2">&nbsp;<i class="fa fa-circle" style="color: rgb(224,112,39);"></i>&nbsp;Pending</span><span class="mr-2"><i class="fas fa-circle text-info"></i>&nbsp;Processing</span><span class="mr-2"><i class="fas fa-circle text-success"></i>&nbsp;Complete</span></div>
                    <div class="table-responsive" style="margin-top: 10px;">
                        <table class="table">
                            <thead>
                                <tr></tr>
                            </thead>
                            <tbody>
                                {{#each recentOrders}}
                                    <tr>
                                        <td style="padding: 5px;">
                                            <div href="/view_sales_details/{{this.delivery_receipt}}" class="text-center {{#compareTwoValues this.order_status 'Pending' operator='==='}}Pending{{/compareTwoValues}}{{#compareTwoValues this.order_status 'Completed' operator='==='}}Completed{{/compareTwoValues}}{{#compareTwoValues this.order_status 'Processing' operator='==='}}Processing{{/compareTwoValues}} ">
                                                <p class="text-center status-data">{{this.customer_name}} ({{this.formattedDate}})</p>
                                                <p class="text-center status-data">{{this.product_name}} - {{this.qty}} bags</p>
                                            </div>
                                        </td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div>
                <div class="modal fade" role="dialog" tabindex="-1" id="AddTask">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4>Add task</h4><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
                            </div>
                            <div class="modal-body">
                                <p class="text-left text-muted" style="margin-bottom: 10px;">Fill out the fields below to add a task in your to-do list</p>
                                <form class="register-form">
                                    <fieldset>
                                        <div class="form-row">
                                            <div class="col-md-12"><input class="form-control d-none" type="text" id="lp-formID" value="vr-campus-tours"><input class="form-control d-none" type="text" id="lp-pathID" value="<?php echo $_GET['path'];?>"></div>
                                            <div class="col-6 col-sm-6 col-md-6">
                                                <div id="lp-name-wrapper"><label>To-do</label><input class="form-control" type="text" id="lp-name" placeholder="Agenda"></div>
                                            </div>
                                            <div class="col-6 col-sm-6 col-md-6">
                                                <div id="lp-lastname-wrapper"></div>
                                            </div>
                                            <div class="col-6 col-sm-6 col-md-6">
                                                <div id="lp-name-wrapper-1"><label>Date and Time</label></div><input class="form-control" type="date">
                                            </div>
                                            <div class="col-6 col-sm-6 col-md-6">
                                                <div id="lp-lastname-wrapper-1"></div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-12">
                                                <div id="lp-mail-wrapper"></div>
                                            </div>
                                            <div class="col-4 col-sm-2 col-md-5">
                                                <div id="lp-select1-wrapper" class="input-group"></div>
                                            </div>
                                            <div class="col-8 col-sm-4 col-md-7">
                                                <div id="lp-telnumber-wrapper"></div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-12">
                                                <div id="customfield1-wrapper"></div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-12">
                                                <div id="lp-title-wrapper"></div>
                                            </div>
                                            <div class="col-12 col-sm-6 col-md-12">
                                                <div id="lp-check1-wrapper"></div>
                                            </div>
                                            <div class="col-md-12"><input class="form-control d-none" type="text" id="lp-country"><input class="form-control d-none" type="text" id="lp-website"><input class="form-control d-none" type="text" id="lp-city"><input class="form-control d-none" type="text" id="customfield10"><input class="form-control d-none" type="text" id="customfield9"><input class="form-control d-none" type="text" id="customfield8"><input class="form-control d-none" type="text" id="customfield7"><input class="form-control d-none" type="text" id="customfield6"><input class="form-control d-none" type="text" id="customfield5"><input class="form-control d-none" type="text" id="customfield4"><input class="form-control d-none" type="text" id="customfield3"><input class="form-control d-none" type="text" id="customfield2"><input class="form-control d-none" type="text" id="lp-select3"><input class="form-control d-none" type="text" id="lp-select2"><input class="form-control d-none" type="text" id="lp-check5"><input class="form-control d-none" type="text" id="lp-check4"><input class="form-control d-none" type="text" id="lp-check3"><input class="form-control d-none" type="text" id="lp-check2"><input class="form-control d-none" type="text" id="lp-telareacode"><input class="form-control d-none" type="text" id="lp-telcountrycode"></div>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <div class="modal-footer"><button class="btn btn-light" data-dismiss="modal" type="button">Close</button><button class="btn btn-primary" type="button">Save</button></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-6 mb-4">
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="text-primary font-weight-bold m-0">Overdue Unpaid Orders</h6>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-sm">
                            <thead>
                                <tr>
                                    <th class="text-nowrap">Customer</th>
                                    <th class="text-nowrap text-right">Amount Due</th>
                                    <th class="text-center" data-toggle="tooltip" data-bs-tooltip="" title="DD/MM/YYYY">Due Date</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each overDueOrders}}
                                    <tr>
                                        <td>{{this.customer_name}}</td>
                                        <td class="text-right">Php {{this.amt_due}}</td>
                                        <td class="text-nowrap text-center">{{this.due_date }}<i class="fa fa-warning" data-toggle="tooltip" data-bs-tooltip="" style="color: rgb(255,15,0);padding: 5px;border-style: none;" title="Overdue "></i></td>
                                    </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card shadow mb-4">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h6 class="text-primary font-weight-bold m-0">To-do list</h6>
                    <div class="dropdown no-arrow"><button class="btn btn-link btn-sm dropdown-toggle" data-toggle="dropdown" aria-expanded="false" type="button"><i class="fas fa-ellipsis-v text-gray-400"></i></button>
                        <div class="dropdown-menu shadow dropdown-menu-right animated--fade-in">
                            <p class="text-center dropdown-header">TO-do list</p><a class="btn btn-primary btn-block btn-lg text-left" role="button" data-toggle="modal" href="#AddTask" style="font-size: 13.6px;background: rgb(255,255,255);color: rgb(34,39,41);">Add task</a>
                        </div>
                    </div>
                </div>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <div class="row align-items-center no-gutters">
                            <div class="col mr-2">
                                <h6 class="mb-0"><strong>Lunch meeting</strong></h6><span class="text-xs">10:30 AM</span>
                            </div>
                            <div class="col-auto">
                                <div class="custom-control custom-checkbox"><input class="custom-control-input" type="checkbox" id="formCheck-1"><label class="custom-control-label" for="formCheck-1"></label></div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="row align-items-center no-gutters">
                            <div class="col mr-2">
                                <h6 class="mb-0"><strong>Go to bank</strong></h6><span class="text-xs">11:30 AM</span>
                            </div>
                            <div class="col-auto">
                                <div class="custom-control custom-checkbox"><input class="custom-control-input" type="checkbox" id="formCheck-2"><label class="custom-control-label" for="formCheck-2"></label></div>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">
                        <div class="row align-items-center no-gutters">
                            <div class="col mr-2">
                                <h6 class="mb-0"><strong>Call ABC Hardware</strong></h6><span class="text-xs">12:30 AM</span>
                            </div>
                            <div class="col-auto">
                                <div class="custom-control custom-checkbox"><input class="custom-control-input" type="checkbox" id="formCheck-3"><label class="custom-control-label" for="formCheck-3"></label></div>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.bundle.js"></script>
<script src="../assets/js/chartFormatter.js"></script>
<script type="text/javascript">
    var view = '{{role}}';
    var chartData = {{{monthlyEarnings}}};
    createAreaChart({{{monthlyEarnings}}});
</script>